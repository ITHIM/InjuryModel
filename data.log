
. clear

. clear matrix

. // cd "C:\Users\Anna Goodman\Dropbox\z_ITHIMfiles\Stats19"
. 
.         ** DOWNLOAD 2005-2014 AND 2015 DATA FROM https://data.gov.uk/dataset/
> road-accidents-safety-data. SAVE THESE IN 'Stats19\1a_DataOriginal' FOLDER
.         ** DOWNLOAD CODEBOOK FROM https://discover.ukdataservice.ac.uk/catalo
> gue?sn=7752
.         ** MAKE AN EMPTY FOLDER '1b_DataCreated', IN WHICH '0-temp'
. 
.         ***************************
.         * PREPARE DATASETS
.         ***************************     
.         /** MERGE 2005-2014 AND 2015 DATASETS
>                 foreach x in Accidents Casualties Vehicles {
>                 import delimited "1a_DataOriginal/`x'_2015.csv", clear
>                 saveold "1a_DataOriginal/`x'_2015.dta", replace
>                 import delimited "1a_DataOriginal/`x'0514.csv", clear
>                 rename ïaccident_index accident_index
>                 append using "1a_DataOriginal/`x'_2015.dta", 
>                 saveold "1b_DataCreated/0-temp/`x'0515.dta", replace
>                 }
>                 */
.         ** MERGE 3 DATASETS, KEEPING REQUIRED VARIABLES
.                 use "1b_DataCreated/0-temp/Accidents0515.dta", clear

.                 keep accident_index local_authority_district st_road_class da
> te number_of_vehicles

.                 merge 1:m accident_index using "1b_DataCreated/0-temp/Vehicle
> s0515.dta", keepus(vehicle_reference vehicle_type sex_of_driver age_of_driver
> ) nogen

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                         3,262,270  
    -----------------------------------------

.                 merge 1:m accident_index vehicle_reference using "1b_DataCrea
> ted/0-temp/Casualties0515.dta", keepus(casualty_reference casualty_class casu
> alty_severity sex_of_casualty age_of_casualty) nogen

    Result                           # of obs.
    -----------------------------------------
    not matched                     1,243,950
        from master                 1,243,950  
        from using                          0  

    matched                         2,402,909  
    -----------------------------------------

.                 keep if local_authority_district<=699 // Drop Wales and Scotl
> and
(387,222 observations deleted)

.                 saveold stopped, replace
(saving in Stata 13 format)
(FYI, saveold has options version(12) and version(11) that write files in
      older Stata formats)
  note: variable label "ï»¿Accident_Index" contains unicode and thus may not
        display well in Stata 13.
file stopped.dta saved

.         ** PREPARE VARIABLES
.                 * SEVERITY
.                         rename casualty_severity cas_severity

.                         label define severitylab 1 "Fatal" 2 "Serious" 3 "Sli
> ght"

.                         label values cas_severity severitylab

. 
.                 * DATE
.                         split date,p("/")
variables created as string: 
date1  date2  date3

.                         destring date3, gen(year)
date3: all characters numeric; year generated as int

. 
.                 * ROAD CLASS
.                         recode st_road_class 1/2=1 3=2 4/6=3 , gen(roadtype)
(3096505 differences between st_road_class and roadtype)

.                         label def roadtypelab 1 "Motorway/A(M)" 2 "A" 3 "B, C
> , Unclassified"

.                         label val roadtype roadtypelab

. 
.                 * MODE AND SEX OF VEHICLE AND CASUALTY
.                         recode vehicle_type -1=99 1=2 2/5=3 8/9=4 10/11=6 16/
> 18=99 19=5 20/21=7 22=99 23=3 90=99 97=3 98=7 , gen(veh_mode)
(3182000 differences between vehicle_type and veh_mode)

.                         gen cas_mode=veh_mode

.                         replace cas_mode=1 if casualty_class==3
(262,869 real changes made)

.                         replace cas_mode=. if cas_severity==.
(1,122,012 real changes made, 1,122,012 to missing)

.                         label define modelab 1 "pedestrian" 2 "cyclist" 3 "mo
> torcycle" 4 "car/taxi" 5 "light goods" 6 "bus" 7 "heavy goods" 8 "No other ve
> hicle" 99 "other or unknown", modify

.                         label values veh_mode modelab

.                         label values cas_mode modelab

. 
.                         recode sex_of_casualty -1=. 2=0, gen(cas_male)
(884563 differences between sex_of_casualty and cas_male)

.                         recode sex_of_driver -1=. 2=0 3=., gen(veh_male)
(1104327 differences between sex_of_driver and veh_male)

.                         
.                         recode age_of_casualty -1=., gen(cas_age)
(48330 differences between age_of_casualty and cas_age)

.                         recode age_of_driver -1=., gen(veh_age)
(350495 differences between age_of_driver and veh_age)

.                         
.                         rename vehicle_reference veh_reference

. 
.                 * SELECT A 'STRIKE VEHICLE' PEDESTRIAN AT RANDOM (NB ONLY KNO
> W ABOUT THOSE PEDESTRIANS WHO WERE INJURED...NB DON'T NEED TO SPLIT BY VEHICL
> E AS THIS ONLY BECOMES RELEVANT IF NO OTHER VEHICLE BUT THE PEDESTRIAN)
.                         gen pedflag=(cas_mode==1)

.                         bysort accident_index : egen numped=sum(pedflag)     
>                    

. 
.                         set seed 2010

.                         gen random0=uniform()

.                         foreach x in male age {
  2.                         by accident_index cas_mode (random0), sort: gen li
> ttlen_cas`x'=_n
  3.                         gen ped_cas_`x'_temp=cas_`x'
  4.                         replace ped_cas_`x'_temp=. if cas_mode!=1 | little
> n_cas`x'!=1  // pedestrian age/sex set as equal to one randomly selected pede
> strian within the accident
  5.                         bysort accident_index: egen ped_cas_`x'=max(ped_ca
> s_`x'_temp)
  6.                         drop littlen_cas`x' ped_cas_`x'_temp
  7.                         }
(1,122,531 missing values generated)
(1,883,147 real changes made, 1,883,147 to missing)
(2967309 missing values generated)
(1,170,342 missing values generated)
(1,843,034 real changes made, 1,843,034 to missing)
(2976096 missing values generated)

. 
.                 * DEFINE LARGEST AND SECOND LARGEST OTHER VEHICLES, TO BECOME
>  STRIKE VEHICLE
.                         preserve

.                         keep accident_index veh_mode veh_reference veh_male v
> eh_age numped ped_cas_male ped_cas_age 

.                         duplicates drop

Duplicates in terms of all variables

(339,360 observations deleted)

.                         gen veh_modei=-1*veh_mode

.                         recode veh_modei -99=99
(veh_modei: 29383 changes made)

.                         set seed 2011

.                         gen random1=uniform()

.                         by accident_index (veh_modei random1), sort: gen litt
> len=_n

.                         keep accident_index veh_reference veh_mode veh_male v
> eh_age littlen numped ped_cas_male ped_cas_age  

.                         reshape wide veh_reference veh_mode veh_male veh_age,
>  i(accident_index) j(littlen)
(note: j = 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26
>  27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 5
> 2 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67)

Data                               long   ->   wide
-----------------------------------------------------------------------------
Number of obs.                  2.9e+06   -> 1.6e+06
Number of variables                   9   ->     272
j variable (67 values)          littlen   ->   (dropped)
xij variables:
                          veh_reference   ->   veh_reference1 veh_reference2 ..
> . veh_reference67
                               veh_mode   ->   veh_mode1 veh_mode2 ... veh_mode
> 67
                               veh_male   ->   veh_male1 veh_male2 ... veh_male
> 67
                                veh_age   ->   veh_age1 veh_age2 ... veh_age67
-----------------------------------------------------------------------------

.                         foreach x in reference mode male age {
  2.                         rename veh_`x'1 veh_`x'_firstlarge
  3.                         rename veh_`x'2 veh_`x'_secondlarge
  4.                         }

.                         recode veh_mode_secondlarge .=1 if numped!=0
(veh_mode_secondlarge: 238452 changes made)

.                         recode veh_mode_secondlarge .=8
(veh_mode_secondlarge: 225367 changes made)

.                         replace veh_male_secondlarge=ped_cas_male if numped!=
> 0 & veh_mode_secondlarge==1
(238,397 real changes made)

.                         replace veh_age_secondlarge=ped_cas_age if numped!=0 
> & veh_mode_secondlarge==1
variable veh_age_secondlarge was byte now int
(231,128 real changes made)

.                         keep accident_index veh_reference_firstlarge veh_refe
> rence_secondlarge veh_mode_firstlarge veh_mode_secondlarge veh_male_firstlarg
> e veh_male_secondlarge veh_age_firstlarge veh_age_secondlarge

.                         saveold "1b_DataCreated/0-temp/stats19_strikemode.dta
> ", replace
(saving in Stata 13 format)
(FYI, saveold has options version(12) and version(11) that write files in
      older Stata formats)
  note: variable label "ï»¿Accident_Index" contains unicode and thus may not
        display well in Stata 13.
file 1b_DataCreated/0-temp/stats19_strikemode.dta saved

.                         restore

. 
.                 * MERGE IN AND DEFINE STRIKE MODE - FOR NON-PEDESTRIANS, THIS
>  IS LARGEST OTHER VEHICLE
.                         merge m:1 accident_index using "1b_DataCreated/0-temp
> /stats19_strikemode.dta", nogen
(label modelab already defined)

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                         3,259,637  
    -----------------------------------------

.                         foreach x in mode male age {
  2.                         gen strike_`x'=veh_`x' if cas_mode==1
  3.                         replace strike_`x'=veh_`x'_firstlarge if cas_mode!
> =1
  4.                         replace strike_`x'=veh_`x'_secondlarge if veh_refe
> rence==veh_reference_firstlarge & cas_mode!=1
  5.                         }
(2,996,768 missing values generated)
(2,996,768 real changes made)
(817,427 real changes made)
(3,029,871 missing values generated)
(2,810,296 real changes made)
(861,570 real changes made, 329,904 to missing)
(3,051,654 missing values generated)
(2,616,831 real changes made)
(1,469,629 real changes made, 377,597 to missing)

.                         label values strike_mode modelab

. 
.                 /* IMPUTE AT RANDOM MISSING SEX OF A) CASUALTY AND B) STRIKER
> , IN PROPORTION TO OBSERVED SEX RATIO OF STRIKER COLLISIONS FOR EACH MODE [no
> t done for age]
>                         set seed 2012
>                         gen random3=uniform()           
>                         tab cas_male , miss 
>                                 * missing data 0.2% casualty sex
>                         tab strike_male if strike_mode!=8, miss 
>                                 * missing data 6.5% striker sex
>                         foreach x in cas strike {
>                         gen `x'_mode_sexratio=.
>                         foreach i in 1 2 3 4 5 6 7 99 {
>                         sum `x'_male if `x'_mode==`i'
>                         replace `x'_mode_sexratio=r(mean) if `x'_mode==`i'
>                         }
>                         }
>                         recode cas_male .=1 if random3<=cas_mode_sexratio & c
> as_severity!=.
>                         recode cas_male .=0 if random3>cas_mode_sexratio & ca
> s_severity!=.
>                         recode strike_male .=1 if random3<=strike_mode_sexrat
> io & strike_mode!=8
>                         recode strike_male .=0 if random3>strike_mode_sexrati
> o & strike_mode!=8                 
>                         */
. 
.                 *SAVE
.                         keep if cas_severity!=. // drop those not in casualty
>  dataset
(1,122,012 observations deleted)

.                         order accident_index year roadtype cas_severity cas_m
> ode cas_male cas_age strike_mode strike_male strike_age

.                         keep accident_index-strike_age

.                         foreach var of varlist accident_index-strike_age {
  2.                         label variable `var'
  3.                         }

.                         compress
  variable cas_mode was float now byte
  variable strike_mode was float now byte
  variable strike_male was float now byte
  variable strike_age was float now byte
  (25,651,500 bytes saved)

.                         saveold "data.dta", replace
(saving in Stata 13 format)
(FYI, saveold has options version(12) and version(11) that write files in
      older Stata formats)
file data.dta saved

. 
. 
.         ***************************
.         * ANALYSIS
.         ***************************             
.         use "data.dta", clear

.                 recode strike_mode 3=5 5=6 6=3 7=7 8=9 99=8, gen(strike_modec
> at)
(515429 differences between strike_mode and strike_modecat)

.                 recode cas_mode 3=5 5=6 6=3 7=7 8=9 99=8, gen(cas_modecat)
(340216 differences between cas_mode and cas_modecat)

.                 label define modecatlab 1 "walk" 2 "cycle" 3 "bus" 4 "car" 5 
> "mbike" 6 "van" 7 "lorry" 8 "other" 9 "no other vehicle" , modify

.                 label values strike_modecat modecatlab

.                 label values cas_modecat modecatlab

. 
.         * CASUALTY PERSPECTIVE (only use pedestrian, cyclist, motorcycle, car
> /taxi)
.                 foreach i in 1 0 {
  2.                 foreach j in 1 2 3 {
  3.                 bysort cas_severity: tab cas_modecat strike_modecat if cas
> _male==`i' & roadtype==`j'
  4.                 }
  5.                 }

-------------------------------------------------------------------------------
-> cas_severity = Fatal

       RECODE of |            RECODE of strike_mode
        cas_mode |       bus        car      mbike        van |     Total
-----------------+--------------------------------------------+----------
            walk |         2         87          0          9 |       161 
           cycle |         0          0          0          0 |         1 
             bus |         0          2          0          0 |         9 
             car |         6        137          0         27 |       553 
           mbike |         2         40          2          7 |       114 
             van |         1          6          0          1 |        66 
           lorry |         2          9          0          0 |       128 
           other |         0          2          0          0 |         4 
-----------------+--------------------------------------------+----------
           Total |        13        283          2         44 |     1,036 


       RECODE of |      RECODE of strike_mode
        cas_mode |     lorry      other  no other  |     Total
-----------------+---------------------------------+----------
            walk |        62          1          0 |       161 
           cycle |         1          0          0 |         1 
             bus |         5          0          2 |         9 
             car |       170          2        211 |       553 
           mbike |        23          0         40 |       114 
             van |        40          0         18 |        66 
           lorry |        88          0         29 |       128 
           other |         0          0          2 |         4 
-----------------+---------------------------------+----------
           Total |       389          3        302 |     1,036 


-------------------------------------------------------------------------------
-> cas_severity = Serious

       RECODE of |            RECODE of strike_mode
        cas_mode |      walk        bus        car      mbike |     Total
-----------------+--------------------------------------------+----------
            walk |         0          1         79          1 |       136 
           cycle |         0          0          3          0 |         4 
             bus |         1          1         16          0 |       129 
             car |         3         25      1,143          5 |     3,285 
           mbike |         0          4        502         14 |     1,009 
             van |         0          2         82          0 |       410 
           lorry |         1          3         65          1 |       546 
           other |         0          0          9          0 |        34 
-----------------+--------------------------------------------+----------
           Total |         5         36      1,899         21 |     5,553 


       RECODE of |            RECODE of strike_mode
        cas_mode |       van      lorry      other  no other  |     Total
-----------------+--------------------------------------------+----------
            walk |        10         41          4          0 |       136 
           cycle |         1          0          0          0 |         4 
             bus |         4         29          1         77 |       129 
             car |       190        696         11      1,212 |     3,285 
           mbike |        60         64          4        361 |     1,009 
             van |        36        178          3        109 |       410 
           lorry |        19        304          2        151 |       546 
           other |         1         18          1          5 |        34 
-----------------+--------------------------------------------+----------
           Total |       321      1,330         26      1,915 |     5,553 


-------------------------------------------------------------------------------
-> cas_severity = Slight

       RECODE of |            RECODE of strike_mode
        cas_mode |      walk      cycle        bus        car |     Total
-----------------+--------------------------------------------+----------
            walk |         0          0          2        127 |       215 
           cycle |         0          0          1          5 |        10 
             bus |         3          0         56        226 |       852 
             car |        15          0        354     23,948 |    44,583 
           mbike |         0          1          8      1,081 |     1,813 
             van |         2          0         52      1,908 |     4,805 
           lorry |         4          0         31        659 |     2,888 
           other |         0          0          8        109 |       266 
-----------------+--------------------------------------------+----------
           Total |        24          1        512     28,063 |    55,432 


       RECODE of |            RECODE of strike_mode
        cas_mode |     mbike        van      lorry      other |     Total
-----------------+--------------------------------------------+----------
            walk |         2         31         47          6 |       215 
           cycle |         1          1          0          0 |        10 
             bus |         0         86        261          4 |       852 
             car |        55      3,744      8,706        175 |    44,583 
           mbike |        45        144        106         12 |     1,813 
             van |         6        868      1,208         15 |     4,805 
           lorry |         3        217      1,371         21 |     2,888 
           other |         1         18         57         12 |       266 
-----------------+--------------------------------------------+----------
           Total |       113      5,109     11,756        245 |    55,432 


                 | RECODE of
                 | strike_mod
       RECODE of |     e
        cas_mode | no other  |     Total
-----------------+-----------+----------
            walk |         0 |       215 
           cycle |         2 |        10 
             bus |       216 |       852 
             car |     7,586 |    44,583 
           mbike |       416 |     1,813 
             van |       746 |     4,805 
           lorry |       582 |     2,888 
           other |        61 |       266 
-----------------+-----------+----------
           Total |     9,609 |    55,432 



-------------------------------------------------------------------------------
-> cas_severity = Fatal

       RECODE of |            RECODE of strike_mode
        cas_mode |      walk      cycle        bus        car |     Total
-----------------+--------------------------------------------+----------
            walk |         0         10        141      1,171 |     1,757 
           cycle |         0          1         22        286 |       516 
             bus |         0          0          1          9 |        48 
             car |         1          1        103      1,478 |     3,762 
           mbike |        10          2         49      1,132 |     2,185 
             van |         0          0          5         31 |       182 
           lorry |         0          1          1         15 |       128 
           other |         0          0          3         23 |        57 
-----------------+--------------------------------------------+----------
           Total |        11         15        325      4,145 |     8,635 


       RECODE of |            RECODE of strike_mode
        cas_mode |     mbike        van      lorry      other |     Total
-----------------+--------------------------------------------+----------
            walk |        67         98        244         26 |     1,757 
           cycle |         6         39        128         18 |       516 
             bus |         0          0         11          1 |        48 
             car |        14        214        640         37 |     3,762 
           mbike |        59        179        222         63 |     2,185 
             van |         0         17         69          4 |       182 
           lorry |         0          3         60          3 |       128 
           other |         1          2         16          1 |        57 
-----------------+--------------------------------------------+----------
           Total |       147        552      1,390        153 |     8,635 


                 | RECODE of
                 | strike_mod
       RECODE of |     e
        cas_mode | no other  |     Total
-----------------+-----------+----------
            walk |         0 |     1,757 
           cycle |        16 |       516 
             bus |        26 |        48 
             car |     1,274 |     3,762 
           mbike |       469 |     2,185 
             van |        56 |       182 
           lorry |        45 |       128 
           other |        11 |        57 
-----------------+-----------+----------
           Total |     1,897 |     8,635 


-------------------------------------------------------------------------------
-> cas_severity = Serious

       RECODE of |            RECODE of strike_mode
        cas_mode |      walk      cycle        bus        car |     Total
-----------------+--------------------------------------------+----------
            walk |         0        123        913     10,107 |    13,062 
           cycle |        42         98        301      7,381 |     9,876 
             bus |        14         10         24        233 |       772 
             car |        76         54        434     13,516 |    25,313 
           mbike |       236        120        301     15,697 |    23,981 
             van |         3          5         40        683 |     1,672 
           lorry |         5          4         15        219 |     1,039 
           other |         1          4         18        207 |       431 
-----------------+--------------------------------------------+----------
           Total |       377        418      2,046     48,043 |    76,146 


       RECODE of |            RECODE of strike_mode
        cas_mode |     mbike        van      lorry      other |     Total
-----------------+--------------------------------------------+----------
            walk |       679        674        438        128 |    13,062 
           cycle |       174        755        468         89 |     9,876 
             bus |         5         37         60          7 |       772 
             car |       192      1,381      1,873        212 |    25,313 
           mbike |       474      1,392        714        215 |    23,981 
             van |        20        228        266         19 |     1,672 
           lorry |         2         64        317         19 |     1,039 
           other |         9         29         62         14 |       431 
-----------------+--------------------------------------------+----------
           Total |     1,555      4,560      4,198        703 |    76,146 


                 | RECODE of
                 | strike_mod
       RECODE of |     e
        cas_mode | no other  |     Total
-----------------+-----------+----------
            walk |         0 |    13,062 
           cycle |       568 |     9,876 
             bus |       382 |       772 
             car |     7,575 |    25,313 
           mbike |     4,832 |    23,981 
             van |       408 |     1,672 
           lorry |       394 |     1,039 
           other |        87 |       431 
-----------------+-----------+----------
           Total |    14,246 |    76,146 


-------------------------------------------------------------------------------
-> cas_severity = Slight

       RECODE of |            RECODE of strike_mode
        cas_mode |      walk      cycle        bus        car |     Total
-----------------+--------------------------------------------+----------
            walk |         0        556      2,944     29,639 |    38,759 
           cycle |       403        257      1,655     42,970 |    52,667 
             bus |       141         92        587      5,412 |    12,458 
             car |       780        655      4,862    205,786 |   292,799 
           mbike |     1,461        595        979     52,801 |    72,425 
             van |        40         64        523     11,394 |    19,701 
           lorry |        61         26        190      2,657 |     7,517 
           other |        15          9         87      1,700 |     2,965 
-----------------+--------------------------------------------+----------
           Total |     2,901      2,254     11,827    352,359 |   499,291 


       RECODE of |            RECODE of strike_mode
        cas_mode |     mbike        van      lorry      other |     Total
-----------------+--------------------------------------------+----------
            walk |     2,482      1,993        734        411 |    38,759 
           cycle |       985      3,759      1,194        380 |    52,667 
             bus |        58        758        791        146 |    12,458 
             car |     2,901     19,284     15,508      2,156 |   292,799 
           mbike |     1,394      4,635      1,442        539 |    72,425 
             van |       185      2,970      2,321        171 |    19,701 
           lorry |        65        594      1,891        142 |     7,517 
           other |        53        209        262        186 |     2,965 
-----------------+--------------------------------------------+----------
           Total |     8,123     34,202     24,143      4,131 |   499,291 


                 | RECODE of
                 | strike_mod
       RECODE of |     e
        cas_mode | no other  |     Total
-----------------+-----------+----------
            walk |         0 |    38,759 
           cycle |     1,064 |    52,667 
             bus |     4,473 |    12,458 
             car |    40,867 |   292,799 
           mbike |     8,579 |    72,425 
             van |     2,033 |    19,701 
           lorry |     1,891 |     7,517 
           other |       444 |     2,965 
-----------------+-----------+----------
           Total |    59,351 |   499,291 



-------------------------------------------------------------------------------
-> cas_severity = Fatal

       RECODE of |            RECODE of strike_mode
        cas_mode |      walk      cycle        bus        car |     Total
-----------------+--------------------------------------------+----------
            walk |         0         10         92        894 |     1,208 
           cycle |         2          5         17        242 |       449 
             bus |         0          1          2          8 |        32 
             car |         2          0         61        792 |     2,455 
           mbike |         7          2         29        930 |     1,679 
             van |         1          0          2         20 |        89 
           lorry |         0          1          0          3 |        21 
           other |         2          0          5         38 |        93 
-----------------+--------------------------------------------+----------
           Total |        14         19        208      2,927 |     6,026 


       RECODE of |            RECODE of strike_mode
        cas_mode |     mbike        van      lorry      other |     Total
-----------------+--------------------------------------------+----------
            walk |        28         98         63         23 |     1,208 
           cycle |         7         34         51          7 |       449 
             bus |         0          0          1          0 |        32 
             car |         6        131        135         30 |     2,455 
           mbike |        48        117         82         42 |     1,679 
             van |         0          6         14          0 |        89 
           lorry |         0          1          4          1 |        21 
           other |         2          5          6          2 |        93 
-----------------+--------------------------------------------+----------
           Total |        91        392        356        105 |     6,026 


                 | RECODE of
                 | strike_mod
       RECODE of |     e
        cas_mode | no other  |     Total
-----------------+-----------+----------
            walk |         0 |     1,208 
           cycle |        84 |       449 
             bus |        20 |        32 
             car |     1,298 |     2,455 
           mbike |       422 |     1,679 
             van |        46 |        89 
           lorry |        11 |        21 
           other |        33 |        93 
-----------------+-----------+----------
           Total |     1,914 |     6,026 


-------------------------------------------------------------------------------
-> cas_severity = Serious

       RECODE of |            RECODE of strike_mode
        cas_mode |      walk      cycle        bus        car |     Total
-----------------+--------------------------------------------+----------
            walk |         0        165        818     15,722 |    18,844 
           cycle |        63        169        241     10,246 |    13,230 
             bus |         4          4         22        173 |       553 
             car |        70         72        412     11,908 |    24,209 
           mbike |       139         80        257     14,953 |    23,607 
             van |         2          5         33        523 |     1,189 
           lorry |         3          2         10         85 |       358 
           other |         8          4          7        398 |       793 
-----------------+--------------------------------------------+----------
           Total |       289        501      1,800     54,008 |    82,783 


       RECODE of |            RECODE of strike_mode
        cas_mode |     mbike        van      lorry      other |     Total
-----------------+--------------------------------------------+----------
            walk |       534      1,029        362        214 |    18,844 
           cycle |       165        841        275        122 |    13,230 
             bus |         7         20         19          5 |       553 
             car |       169      1,149        664        206 |    24,209 
           mbike |       445      1,257        467        255 |    23,607 
             van |         7        121         97         21 |     1,189 
           lorry |         2         16         62          7 |       358 
           other |        11         39         29         22 |       793 
-----------------+--------------------------------------------+----------
           Total |     1,340      4,472      1,975        852 |    82,783 


                 | RECODE of
                 | strike_mod
       RECODE of |     e
        cas_mode | no other  |     Total
-----------------+-----------+----------
            walk |         0 |    18,844 
           cycle |     1,108 |    13,230 
             bus |       299 |       553 
             car |     9,559 |    24,209 
           mbike |     5,754 |    23,607 
             van |       380 |     1,189 
           lorry |       171 |       358 
           other |       275 |       793 
-----------------+-----------+----------
           Total |    17,546 |    82,783 


-------------------------------------------------------------------------------
-> cas_severity = Slight

       RECODE of |            RECODE of strike_mode
        cas_mode |      walk      cycle        bus        car |     Total
-----------------+--------------------------------------------+----------
            walk |         0        586      3,327     63,586 |    75,439 
           cycle |       305        433      1,316     61,264 |    71,021 
             bus |       140         88        522      4,846 |    10,696 
             car |       914        951      4,126    192,574 |   275,053 
           mbike |       894        461        693     46,577 |    64,507 
             van |        56         55        328      9,377 |    14,578 
           lorry |        23         20         97      1,577 |     3,403 
           other |        23         23         82      2,184 |     3,463 
-----------------+--------------------------------------------+----------
           Total |     2,355      2,617     10,491    381,985 |   518,160 


       RECODE of |            RECODE of strike_mode
        cas_mode |     mbike        van      lorry      other |     Total
-----------------+--------------------------------------------+----------
            walk |     1,828      4,154      1,075        883 |    75,439 
           cycle |       845      3,802        836        572 |    71,021 
             bus |        44        547        359        129 |    10,696 
             car |     2,739     14,735      5,620      2,252 |   275,053 
           mbike |     1,370      3,450        788        495 |    64,507 
             van |       160      1,745        653        179 |    14,578 
           lorry |        38        253        499         82 |     3,403 
           other |        54        238        117        160 |     3,463 
-----------------+--------------------------------------------+----------
           Total |     7,078     28,924      9,947      4,752 |   518,160 


                 | RECODE of
                 | strike_mod
       RECODE of |     e
        cas_mode | no other  |     Total
-----------------+-----------+----------
            walk |         0 |    75,439 
           cycle |     1,648 |    71,021 
             bus |     4,021 |    10,696 
             car |    51,142 |   275,053 
           mbike |     9,779 |    64,507 
             van |     2,025 |    14,578 
           lorry |       814 |     3,403 
           other |       582 |     3,463 
-----------------+-----------+----------
           Total |    70,011 |   518,160 



-------------------------------------------------------------------------------
-> cas_severity = Fatal

       RECODE of |            RECODE of strike_mode
        cas_mode |       bus        car      mbike        van |     Total
-----------------+--------------------------------------------+----------
            walk |         0         25          0          1 |        34 
             bus |         0          0          0          0 |         3 
             car |         1         66          0         16 |       241 
           mbike |         0          1          1          0 |         8 
             van |         1          1          0          0 |         5 
           lorry |         0          0          0          0 |         4 
           other |         0          1          0          0 |         1 
-----------------+--------------------------------------------+----------
           Total |         2         94          1         17 |       296 


       RECODE of | RECODE of strike_mode
        cas_mode |     lorry  no other  |     Total
-----------------+----------------------+----------
            walk |         8          0 |        34 
             bus |         2          1 |         3 
             car |        83         75 |       241 
           mbike |         2          4 |         8 
             van |         2          1 |         5 
           lorry |         4          0 |         4 
           other |         0          0 |         1 
-----------------+----------------------+----------
           Total |       101         81 |       296 


-------------------------------------------------------------------------------
-> cas_severity = Serious

       RECODE of |            RECODE of strike_mode
        cas_mode |       bus        car      mbike        van |     Total
-----------------+--------------------------------------------+----------
            walk |         0         22          0          1 |        30 
             bus |         1          8          0          2 |        81 
             car |        20        985          3        163 |     2,412 
           mbike |         0         54          3          6 |       125 
             van |         0         11          0          5 |        47 
           lorry |         0          6          0          0 |        16 
           other |         0          5          0          1 |        17 
-----------------+--------------------------------------------+----------
           Total |        21      1,091          6        178 |     2,728 


       RECODE of |      RECODE of strike_mode
        cas_mode |     lorry      other  no other  |     Total
-----------------+---------------------------------+----------
            walk |         6          1          0 |        30 
             bus |        28          0         42 |        81 
             car |       496          9        736 |     2,412 
           mbike |        10          0         52 |       125 
             van |        11          1         19 |        47 
           lorry |         3          0          7 |        16 
           other |         5          1          5 |        17 
-----------------+---------------------------------+----------
           Total |       559         12        861 |     2,728 


-------------------------------------------------------------------------------
-> cas_severity = Slight

       RECODE of |            RECODE of strike_mode
        cas_mode |      walk        bus        car      mbike |     Total
-----------------+--------------------------------------------+----------
            walk |         0          0         28          0 |        37 
           cycle |         0          0          1          0 |         1 
             bus |         0         64        140          2 |       682 
             car |        13        365     23,132         70 |    41,858 
           mbike |         0          3         95          8 |       215 
             van |         1          3        233          1 |       454 
           lorry |         0          2         79          0 |       144 
           other |         0          2         38          0 |        92 
-----------------+--------------------------------------------+----------
           Total |        14        439     23,746         81 |    43,483 


       RECODE of |            RECODE of strike_mode
        cas_mode |       van      lorry      other  no other  |     Total
-----------------+--------------------------------------------+----------
            walk |         4          4          1          0 |        37 
           cycle |         0          0          0          0 |         1 
             bus |        54        246          2        174 |       682 
             car |     3,179      8,654        172      6,273 |    41,858 
           mbike |        11          6          1         91 |       215 
             van |        60         68          1         87 |       454 
           lorry |        11         39          1         12 |       144 
           other |         7         13          6         26 |        92 
-----------------+--------------------------------------------+----------
           Total |     3,326      9,030        184      6,663 |    43,483 



-------------------------------------------------------------------------------
-> cas_severity = Fatal

       RECODE of |            RECODE of strike_mode
        cas_mode |      walk      cycle        bus        car |     Total
-----------------+--------------------------------------------+----------
            walk |         0          3         72        514 |       821 
           cycle |         0          2          7         46 |       113 
             bus |         0          0          0         14 |        25 
             car |         1          1         47        872 |     1,787 
           mbike |         0          0          3         65 |       120 
             van |         0          0          1          5 |        15 
           lorry |         0          0          0          0 |         2 
           other |         0          0          0         11 |        20 
-----------------+--------------------------------------------+----------
           Total |         1          6        130      1,527 |     2,903 


       RECODE of |            RECODE of strike_mode
        cas_mode |     mbike        van      lorry      other |     Total
-----------------+--------------------------------------------+----------
            walk |        40         55        118         19 |       821 
           cycle |         3          6         41          6 |       113 
             bus |         0          0          1          0 |        25 
             car |        11        140        306         16 |     1,787 
           mbike |         3         11         13          3 |       120 
             van |         0          0          5          0 |        15 
           lorry |         0          0          0          0 |         2 
           other |         0          3          2          0 |        20 
-----------------+--------------------------------------------+----------
           Total |        57        215        486         44 |     2,903 


                 | RECODE of
                 | strike_mod
       RECODE of |     e
        cas_mode | no other  |     Total
-----------------+-----------+----------
            walk |         0 |       821 
           cycle |         2 |       113 
             bus |        10 |        25 
             car |       393 |     1,787 
           mbike |        22 |       120 
             van |         4 |        15 
           lorry |         2 |         2 
           other |         4 |        20 
-----------------+-----------+----------
           Total |       437 |     2,903 


-------------------------------------------------------------------------------
-> cas_severity = Serious

       RECODE of |            RECODE of strike_mode
        cas_mode |      walk      cycle        bus        car |     Total
-----------------+--------------------------------------------+----------
            walk |         0        215        498      6,232 |     8,226 
           cycle |         8         27         95      1,444 |     2,015 
             bus |         7         12         19        291 |     1,176 
             car |        59         22        291     11,303 |    18,387 
           mbike |        24          9         31      1,384 |     2,344 
             van |         0          0          3         92 |       184 
           lorry |         0          0          0         14 |        45 
           other |         0          1          5        109 |       178 
-----------------+--------------------------------------------+----------
           Total |        98        286        942     20,869 |    32,555 


       RECODE of |            RECODE of strike_mode
        cas_mode |     mbike        van      lorry      other |     Total
-----------------+--------------------------------------------+----------
            walk |       566        406        221         88 |     8,226 
           cycle |        48        136        114         24 |     2,015 
             bus |         3         37         36         10 |     1,176 
             car |       151      1,240      1,385        139 |    18,387 
           mbike |        78        129         69         22 |     2,344 
             van |         3         25         16          2 |       184 
           lorry |         1          3         11          0 |        45 
           other |         6         12         24          5 |       178 
-----------------+--------------------------------------------+----------
           Total |       856      1,988      1,876        290 |    32,555 


                 | RECODE of
                 | strike_mod
       RECODE of |     e
        cas_mode | no other  |     Total
-----------------+-----------+----------
            walk |         0 |     8,226 
           cycle |       119 |     2,015 
             bus |       761 |     1,176 
             car |     3,797 |    18,387 
           mbike |       598 |     2,344 
             van |        43 |       184 
           lorry |        16 |        45 
           other |        16 |       178 
-----------------+-----------+----------
           Total |     5,350 |    32,555 


-------------------------------------------------------------------------------
-> cas_severity = Slight

       RECODE of |            RECODE of strike_mode
        cas_mode |      walk      cycle        bus        car |     Total
-----------------+--------------------------------------------+----------
            walk |         0        871      1,887     22,666 |    30,250 
           cycle |        44        101        516      9,911 |    12,539 
             bus |       180        182        703      7,349 |    19,771 
             car |       623        520      5,100    221,984 |   298,371 
           mbike |       132         71        109      6,061 |     9,074 
             van |         5          4         63      1,648 |     2,520 
           lorry |         0          1         12        271 |       444 
           other |         2          9         33        790 |     1,198 
-----------------+--------------------------------------------+----------
           Total |       986      1,759      8,423    270,680 |   374,167 


       RECODE of |            RECODE of strike_mode
        cas_mode |     mbike        van      lorry      other |     Total
-----------------+--------------------------------------------+----------
            walk |     2,510      1,545        439        332 |    30,250 
           cycle |       273        924        405         79 |    12,539 
             bus |        68        901        760        186 |    19,771 
             car |     2,935     20,837     16,359      2,261 |   298,371 
           mbike |       224        537        180         55 |     9,074 
             van |        18        325        191         21 |     2,520 
           lorry |         9         27         54          4 |       444 
           other |        18         90         74         76 |     1,198 
-----------------+--------------------------------------------+----------
           Total |     6,055     25,186     18,462      3,014 |   374,167 


                 | RECODE of
                 | strike_mod
       RECODE of |     e
        cas_mode | no other  |     Total
-----------------+-----------+----------
            walk |         0 |    30,250 
           cycle |       286 |    12,539 
             bus |     9,442 |    19,771 
             car |    27,752 |   298,371 
           mbike |     1,705 |     9,074 
             van |       245 |     2,520 
           lorry |        66 |       444 
           other |       106 |     1,198 
-----------------+-----------+----------
           Total |    39,602 |   374,167 



-------------------------------------------------------------------------------
-> cas_severity = Fatal

       RECODE of |            RECODE of strike_mode
        cas_mode |     cycle        bus        car      mbike |     Total
-----------------+--------------------------------------------+----------
            walk |         8         64        534         33 |       804 
           cycle |         1          5         40          0 |        82 
             bus |         1          0          7          0 |        21 
             car |         2         33        453          2 |     1,008 
           mbike |         0          0         40          3 |        65 
             van |         0          1          0          0 |         3 
           lorry |         0          0          0          0 |         2 
           other |         1          1         25          2 |        56 
-----------------+--------------------------------------------+----------
           Total |        13        104      1,099         40 |     2,041 


       RECODE of |            RECODE of strike_mode
        cas_mode |       van      lorry      other  no other  |     Total
-----------------+--------------------------------------------+----------
            walk |        72         80         13          0 |       804 
           cycle |         5         14          1         16 |        82 
             bus |         0          0          0         13 |        21 
             car |        74         72         14        358 |     1,008 
           mbike |         6          3          2         11 |        65 
             van |         0          0          0          2 |         3 
           lorry |         0          0          0          2 |         2 
           other |         3          3          1         20 |        56 
-----------------+--------------------------------------------+----------
           Total |       160        172         31        422 |     2,041 


-------------------------------------------------------------------------------
-> cas_severity = Serious

       RECODE of |            RECODE of strike_mode
        cas_mode |      walk      cycle        bus        car |     Total
-----------------+--------------------------------------------+----------
            walk |         0        261        570     11,071 |    13,438 
           cycle |         8         54         58      2,313 |     3,043 
             bus |        14          8         23        272 |     1,050 
             car |        44         46        283      9,705 |    16,307 
           mbike |        13          6         23      1,178 |     1,975 
             van |         0          0          4         72 |       158 
           lorry |         0          0          0         10 |        21 
           other |         0          1          7        245 |       416 
-----------------+--------------------------------------------+----------
           Total |        79        376        968     24,866 |    36,408 


       RECODE of |            RECODE of strike_mode
        cas_mode |     mbike        van      lorry      other |     Total
-----------------+--------------------------------------------+----------
            walk |       408        759        187        182 |    13,438 
           cycle |        31        199         73         26 |     3,043 
             bus |         1         30         17          6 |     1,050 
             car |       113        902        443        162 |    16,307 
           mbike |        47         86         33         17 |     1,975 
             van |         1         16         11          2 |       158 
           lorry |         1          2          0          1 |        21 
           other |        14         33         20         21 |       416 
-----------------+--------------------------------------------+----------
           Total |       616      2,027        784        417 |    36,408 


                 | RECODE of
                 | strike_mod
       RECODE of |     e
        cas_mode | no other  |     Total
-----------------+-----------+----------
            walk |         0 |    13,438 
           cycle |       281 |     3,043 
             bus |       679 |     1,050 
             car |     4,609 |    16,307 
           mbike |       572 |     1,975 
             van |        52 |       158 
           lorry |         7 |        21 
           other |        75 |       416 
-----------------+-----------+----------
           Total |     6,275 |    36,408 


-------------------------------------------------------------------------------
-> cas_severity = Slight

       RECODE of |            RECODE of strike_mode
        cas_mode |      walk      cycle        bus        car |     Total
-----------------+--------------------------------------------+----------
            walk |         0        836      2,503     49,958 |    59,585 
           cycle |        35        164        307     15,065 |    17,683 
             bus |       211        139        608      6,871 |    18,130 
             car |     1,013        960      4,374    210,847 |   281,575 
           mbike |        64         65         86      5,050 |     8,039 
             van |         7          8         47      1,453 |     2,165 
           lorry |         1          0         12        157 |       252 
           other |        11          9         68      1,326 |     2,034 
-----------------+--------------------------------------------+----------
           Total |     1,342      2,181      8,005    290,727 |   389,463 


       RECODE of |            RECODE of strike_mode
        cas_mode |     mbike        van      lorry      other |     Total
-----------------+--------------------------------------------+----------
            walk |     1,678      3,155        686        769 |    59,585 
           cycle |       236        994        266        144 |    17,683 
             bus |        65        689        373        191 |    18,130 
             car |     3,226     16,586      5,885      2,556 |   281,575 
           mbike |       172        365         96         84 |     8,039 
             van |        20        248         62         25 |     2,165 
           lorry |         1         19         13         10 |       252 
           other |        48        152        108        139 |     2,034 
-----------------+--------------------------------------------+----------
           Total |     5,446     22,208      7,489      3,918 |   389,463 


                 | RECODE of
                 | strike_mod
       RECODE of |     e
        cas_mode | no other  |     Total
-----------------+-----------+----------
            walk |         0 |    59,585 
           cycle |       472 |    17,683 
             bus |     8,983 |    18,130 
             car |    36,128 |   281,575 
           mbike |     2,057 |     8,039 
             van |       295 |     2,165 
           lorry |        39 |       252 
           other |       173 |     2,034 
-----------------+-----------+----------
           Total |    48,147 |   389,463 



. 
.         * STRIKER PERSPECTIVE
.                 foreach i in 1 0 {
  2.                 foreach j in 1 2 3 {
  3.                 bysort cas_severity: tab strike_modecat cas_modecat if str
> ike_male==`i' & roadtype==`j'
  4.                 }
  5.                 }

-------------------------------------------------------------------------------
-> cas_severity = Fatal

       RECODE of |             RECODE of cas_mode
     strike_mode |      walk      cycle        bus        car |     Total
-----------------+--------------------------------------------+----------
             bus |         2          0          0          7 |        15 
             car |        84          0          1        158 |       283 
           mbike |         0          0          0          0 |         3 
             van |        10          0          0         39 |        54 
           lorry |        67          1          7        247 |       475 
           other |         1          0          0          2 |         3 
-----------------+--------------------------------------------+----------
           Total |       164          1          8        453 |       833 


       RECODE of |             RECODE of cas_mode
     strike_mode |     mbike        van      lorry      other |     Total
-----------------+--------------------------------------------+----------
             bus |         2          2          2          0 |        15 
             car |        26          5          7          2 |       283 
           mbike |         3          0          0          0 |         3 
             van |         4          1          0          0 |        54 
           lorry |        23         42         88          0 |       475 
           other |         0          0          0          0 |         3 
-----------------+--------------------------------------------+----------
           Total |        58         50         97          2 |       833 


-------------------------------------------------------------------------------
-> cas_severity = Serious

       RECODE of |             RECODE of cas_mode
     strike_mode |      walk      cycle        bus        car |     Total
-----------------+--------------------------------------------+----------
            walk |         0          0          1          3 |         5 
             bus |         1          0          2         43 |        54 
             car |        70          0         16      1,494 |     2,070 
           mbike |         1          0          0          6 |        21 
             van |        10          1          6        316 |       446 
           lorry |        42          0         56      1,129 |     1,782 
           other |         3          0          0         15 |        28 
-----------------+--------------------------------------------+----------
           Total |       127          1         81      3,006 |     4,406 


       RECODE of |             RECODE of cas_mode
     strike_mode |     mbike        van      lorry      other |     Total
-----------------+--------------------------------------------+----------
            walk |         0          0          1          0 |         5 
             bus |         3          2          3          0 |        54 
             car |       371         66         44          9 |     2,070 
           mbike |        13          0          1          0 |        21 
             van |        56         38         17          2 |       446 
           lorry |        55        182        295         23 |     1,782 
           other |         3          4          1          2 |        28 
-----------------+--------------------------------------------+----------
           Total |       501        292        362         36 |     4,406 


-------------------------------------------------------------------------------
-> cas_severity = Slight

       RECODE of |             RECODE of cas_mode
     strike_mode |      walk      cycle        bus        car |     Total
-----------------+--------------------------------------------+----------
            walk |         0          0          3         23 |        32 
           cycle |         0          0          0          0 |         1 
             bus |         2          1        120        658 |       883 
             car |       117          5        240     31,609 |    34,844 
           mbike |         2          1          2         98 |       159 
             van |        30          0        130      6,250 |     7,659 
           lorry |        45          0        475     15,777 |    19,006 
           other |         2          0          3        214 |       276 
-----------------+--------------------------------------------+----------
           Total |       198          7        973     54,629 |    62,860 


       RECODE of |             RECODE of cas_mode
     strike_mode |     mbike        van      lorry      other |     Total
-----------------+--------------------------------------------+----------
            walk |         0          2          4          0 |        32 
           cycle |         1          0          0          0 |         1 
             bus |        10         51         32          9 |       883 
             car |       790      1,468        513        102 |    34,844 
           mbike |        46          6          3          1 |       159 
             van |       130        879        216         24 |     7,659 
           lorry |        88      1,203      1,353         65 |    19,006 
           other |         8         13         19         17 |       276 
-----------------+--------------------------------------------+----------
           Total |     1,073      3,622      2,140        218 |    62,860 



-------------------------------------------------------------------------------
-> cas_severity = Fatal

       RECODE of |             RECODE of cas_mode
     strike_mode |      walk      cycle        bus        car |     Total
-----------------+--------------------------------------------+----------
            walk |         0          0          0          1 |        10 
           cycle |        12          3          0          1 |        19 
             bus |       199         25          1        137 |       420 
             car |     1,277        226         11      1,751 |     4,158 
           mbike |       107          9          0         25 |       202 
             van |       150         44          0        329 |       720 
           lorry |       352        164         12        916 |     1,815 
           other |        38         24          0         48 |       177 
-----------------+--------------------------------------------+----------
           Total |     2,135        495         24      3,208 |     7,521 


       RECODE of |             RECODE of cas_mode
     strike_mode |     mbike        van      lorry      other |     Total
-----------------+--------------------------------------------+----------
            walk |         9          0          0          0 |        10 
           cycle |         2          0          1          0 |        19 
             bus |        49          5          1          3 |       420 
             car |       836         25          9         23 |     4,158 
           mbike |        60          0          0          1 |       202 
             van |       173         17          2          5 |       720 
           lorry |       220         73         60         18 |     1,815 
           other |        59          4          3          1 |       177 
-----------------+--------------------------------------------+----------
           Total |     1,408        124         76         51 |     7,521 


-------------------------------------------------------------------------------
-> cas_severity = Serious

       RECODE of |             RECODE of cas_mode
     strike_mode |      walk      cycle        bus        car |     Total
-----------------+--------------------------------------------+----------
            walk |         0         23         12         90 |       291 
           cycle |       274        105         15         56 |       558 
             bus |     1,226        326         37        659 |     2,587 
             car |    10,603      5,261        289     16,928 |    44,842 
           mbike |     1,107        187          5        320 |     2,154 
             van |       960        745         56      2,392 |     5,841 
           lorry |       605        488         86      3,064 |     5,592 
           other |       146         72         11        301 |       768 
-----------------+--------------------------------------------+----------
           Total |    14,921      7,207        511     23,810 |    62,633 


       RECODE of |             RECODE of cas_mode
     strike_mode |     mbike        van      lorry      other |     Total
-----------------+--------------------------------------------+----------
            walk |       159          3          3          1 |       291 
           cycle |        96          4          3          5 |       558 
             bus |       266         40         13         20 |     2,587 
             car |    10,857        534        160        210 |    44,842 
           mbike |       498         20          3         14 |     2,154 
             van |     1,346        245         63         34 |     5,841 
           lorry |       693        266        313         77 |     5,592 
           other |       186         20         18         14 |       768 
-----------------+--------------------------------------------+----------
           Total |    14,101      1,132        576        375 |    62,633 


-------------------------------------------------------------------------------
-> cas_severity = Slight

       RECODE of |             RECODE of cas_mode
     strike_mode |      walk      cycle        bus        car |     Total
-----------------+--------------------------------------------+----------
            walk |         0        173        204        914 |     2,255 
           cycle |     1,153        262        154        955 |     3,146 
             bus |     4,019      1,661      1,114      8,775 |    17,253 
             car |    31,448     31,333      6,725    272,232 |   390,397 
           mbike |     4,304      1,060         91      5,357 |    12,537 
             van |     2,835      3,823      1,283     36,177 |    52,536 
           lorry |       948      1,210      1,371     28,965 |    38,277 
           other |       471        303        223      3,561 |     5,454 
-----------------+--------------------------------------------+----------
           Total |    45,178     39,825     11,165    356,936 |   521,855 


       RECODE of |             RECODE of cas_mode
     strike_mode |     mbike        van      lorry      other |     Total
-----------------+--------------------------------------------+----------
            walk |       893         26         41          4 |     2,255 
           cycle |       533         51         24         14 |     3,146 
             bus |       896        513        174        101 |    17,253 
             car |    36,922      8,307      1,858      1,572 |   390,397 
           mbike |     1,408        190         67         60 |    12,537 
             van |     4,558      3,046        556        258 |    52,536 
           lorry |     1,358      2,341      1,775        309 |    38,277 
           other |       428        153        113        202 |     5,454 
-----------------+--------------------------------------------+----------
           Total |    46,996     14,627      4,608      2,520 |   521,855 



-------------------------------------------------------------------------------
-> cas_severity = Fatal

       RECODE of |             RECODE of cas_mode
     strike_mode |      walk      cycle        bus        car |     Total
-----------------+--------------------------------------------+----------
            walk |         0          2          0          1 |         9 
           cycle |        16          6          1          1 |        26 
             bus |       144         20          2         90 |       291 
             car |       982        200          3        843 |     2,714 
           mbike |        59          7          0          8 |       128 
             van |       158         38          0        177 |       503 
           lorry |       140         63          1        200 |       513 
           other |        33          7          0         38 |       124 
-----------------+--------------------------------------------+----------
           Total |     1,532        343          7      1,358 |     4,308 


       RECODE of |             RECODE of cas_mode
     strike_mode |     mbike        van      lorry      other |     Total
-----------------+--------------------------------------------+----------
            walk |         5          0          0          1 |         9 
           cycle |         1          0          1          0 |        26 
             bus |        26          3          0          6 |       291 
             car |       634         14          1         37 |     2,714 
           mbike |        50          0          0          4 |       128 
             van |       115          6          1          8 |       503 
           lorry |        83         13          4          9 |       513 
           other |        42          0          1          3 |       124 
-----------------+--------------------------------------------+----------
           Total |       956         36          8         68 |     4,308 


-------------------------------------------------------------------------------
-> cas_severity = Serious

       RECODE of |             RECODE of cas_mode
     strike_mode |      walk      cycle        bus        car |     Total
-----------------+--------------------------------------------+----------
            walk |         0         46         12         55 |       210 
           cycle |       337        174          5         86 |       680 
             bus |     1,243        239         42        623 |     2,403 
             car |    15,607      6,921        219     13,836 |    46,973 
           mbike |       799        154          8        256 |     1,687 
             van |     1,567        819         36      1,762 |     5,541 
           lorry |       488        299         32      1,019 |     2,459 
           other |       257        105         10        311 |       963 
-----------------+--------------------------------------------+----------
           Total |    20,298      8,757        364     17,948 |    60,916 


       RECODE of |             RECODE of cas_mode
     strike_mode |     mbike        van      lorry      other |     Total
-----------------+--------------------------------------------+----------
            walk |        89          1          2          5 |       210 
           cycle |        68          4          2          4 |       680 
             bus |       208         28         10         10 |     2,403 
             car |     9,580        386         63        361 |    46,973 
           mbike |       443          7          3         17 |     1,687 
             van |     1,158        126         14         59 |     5,541 
           lorry |       433        102         55         31 |     2,459 
           other |       221         21          6         32 |       963 
-----------------+--------------------------------------------+----------
           Total |    12,200        675        155        519 |    60,916 


-------------------------------------------------------------------------------
-> cas_severity = Slight

       RECODE of |             RECODE of cas_mode
     strike_mode |      walk      cycle        bus        car |     Total
-----------------+--------------------------------------------+----------
            walk |         0        154        169      1,125 |     2,069 
           cycle |     1,077        433        133      1,508 |     3,640 
             bus |     4,804      1,252        983      7,387 |    15,602 
             car |    62,142     41,608      6,055    246,399 |   395,417 
           mbike |     2,738        818         71      5,326 |    10,565 
             van |     5,801      3,798        995     26,901 |    42,996 
           lorry |     1,407        846        589     10,335 |    15,208 
           other |     1,035        487        214      3,838 |     6,444 
-----------------+--------------------------------------------+----------
           Total |    79,004     49,396      9,209    302,819 |   491,941 


       RECODE of |             RECODE of cas_mode
     strike_mode |     mbike        van      lorry      other |     Total
-----------------+--------------------------------------------+----------
            walk |       543         38         20         20 |     2,069 
           cycle |       402         51         12         24 |     3,640 
             bus |       649        329         92        106 |    15,602 
             car |    29,474      6,696      1,038      2,005 |   395,417 
           mbike |     1,342        161         36         73 |    10,565 
             van |     3,206      1,748        238        309 |    42,996 
           lorry |       769        656        422        184 |    15,208 
           other |       404        175         62        229 |     6,444 
-----------------+--------------------------------------------+----------
           Total |    36,789      9,854      1,920      2,950 |   491,941 



-------------------------------------------------------------------------------
-> cas_severity = Fatal

       RECODE of |             RECODE of cas_mode
     strike_mode |      walk        bus        car      mbike |     Total
-----------------+--------------------------------------------+----------
             car |        25          1         37         14 |        81 
           lorry |         1          0          0          2 |         5 
-----------------+--------------------------------------------+----------
           Total |        26          1         37         16 |        86 


       RECODE of |        RECODE of cas_mode
     strike_mode |       van      lorry      other |     Total
-----------------+---------------------------------+----------
             car |         2          1          1 |        81 
           lorry |         0          2          0 |         5 
-----------------+---------------------------------+----------
           Total |         2          3          1 |        86 


-------------------------------------------------------------------------------
-> cas_severity = Serious

       RECODE of |             RECODE of cas_mode
     strike_mode |      walk      cycle        bus        car |     Total
-----------------+--------------------------------------------+----------
             bus |         0          0          0          1 |         1 
             car |        22          2          5        473 |       681 
           mbike |         0          0          0          1 |         1 
             van |         1          0          0         11 |        15 
           lorry |         0          0          0         13 |        23 
-----------------+--------------------------------------------+----------
           Total |        23          2          5        499 |       721 


       RECODE of |             RECODE of cas_mode
     strike_mode |     mbike        van      lorry      other |     Total
-----------------+--------------------------------------------+----------
             bus |         0          0          0          0 |         1 
             car |       131         22         23          3 |       681 
           mbike |         0          0          0          0 |         1 
             van |         1          1          1          0 |        15 
           lorry |         2          4          4          0 |        23 
-----------------+--------------------------------------------+----------
           Total |       134         27         28          3 |       721 


-------------------------------------------------------------------------------
-> cas_severity = Slight

       RECODE of |             RECODE of cas_mode
     strike_mode |      walk      cycle        bus        car |     Total
-----------------+--------------------------------------------+----------
            walk |         0          0          0          5 |         6 
             bus |         0          0          0         39 |        42 
             car |        24          1        114     12,231 |    13,462 
           mbike |         0          0          0          5 |        10 
             van |         1          0          4        185 |       216 
           lorry |         1          0         10        208 |       247 
           other |         0          0          0         19 |        19 
-----------------+--------------------------------------------+----------
           Total |        26          1        128     12,692 |    14,002 


       RECODE of |             RECODE of cas_mode
     strike_mode |     mbike        van      lorry      other |     Total
-----------------+--------------------------------------------+----------
            walk |         0          1          0          0 |         6 
             bus |         0          1          1          1 |        42 
             car |       289        567        196         40 |    13,462 
           mbike |         5          0          0          0 |        10 
             van |         3         18          5          0 |       216 
           lorry |         0         14         12          2 |       247 
           other |         0          0          0          0 |        19 
-----------------+--------------------------------------------+----------
           Total |       297        601        214         43 |    14,002 



-------------------------------------------------------------------------------
-> cas_severity = Fatal

       RECODE of |             RECODE of cas_mode
     strike_mode |      walk      cycle        bus        car |     Total
-----------------+--------------------------------------------+----------
            walk |         0          0          0          1 |         2 
           cycle |         0          0          0          1 |         1 
             bus |        13          4          0         10 |        30 
             car |       333         89          7        531 |     1,314 
             van |         1          1          0         10 |        21 
           lorry |         1          2          0         12 |        25 
           other |         2          0          0          4 |        10 
-----------------+--------------------------------------------+----------
           Total |       350         96          7        569 |     1,403 


       RECODE of |             RECODE of cas_mode
     strike_mode |     mbike        van      lorry      other |     Total
-----------------+--------------------------------------------+----------
            walk |         1          0          0          0 |         2 
           cycle |         0          0          0          0 |         1 
             bus |         2          1          0          0 |        30 
             car |       331          9          5          9 |     1,314 
             van |         8          0          1          0 |        21 
           lorry |        10          0          0          0 |        25 
           other |         4          0          0          0 |        10 
-----------------+--------------------------------------------+----------
           Total |       356         10          6          9 |     1,403 


-------------------------------------------------------------------------------
-> cas_severity = Serious

       RECODE of |             RECODE of cas_mode
     strike_mode |      walk      cycle        bus        car |     Total
-----------------+--------------------------------------------+----------
            walk |         0         27          9         45 |       184 
           cycle |        22         11          1         16 |        77 
             bus |        98         11          3         46 |       185 
             car |     4,335      2,454        113      6,830 |    19,365 
           mbike |        42          6          1         15 |        95 
             van |        32         23          1         87 |       207 
           lorry |         7          7          2         42 |        80 
           other |        28          7          2         31 |        85 
-----------------+--------------------------------------------+----------
           Total |     4,564      2,546        132      7,112 |    20,278 


       RECODE of |             RECODE of cas_mode
     strike_mode |     mbike        van      lorry      other |     Total
-----------------+--------------------------------------------+----------
            walk |       101          0          2          0 |       184 
           cycle |        25          1          1          0 |        77 
             bus |        24          2          0          1 |       185 
             car |     5,292        200         54         87 |    19,365 
           mbike |        28          3          0          0 |        95 
             van |        58          3          0          3 |       207 
           lorry |        10          4          3          5 |        80 
           other |        14          1          0          2 |        85 
-----------------+--------------------------------------------+----------
           Total |     5,552        214         60         98 |    20,278 


-------------------------------------------------------------------------------
-> cas_severity = Slight

       RECODE of |             RECODE of cas_mode
     strike_mode |      walk      cycle        bus        car |     Total
-----------------+--------------------------------------------+----------
            walk |         0        275        117        489 |     1,631 
           cycle |       115         61         28        167 |       487 
             bus |       347        111         93        660 |     1,345 
             car |    14,519     15,020      3,050    129,140 |   184,856 
           mbike |       231         63          8        307 |       758 
             van |       109        115         35      1,271 |     1,788 
           lorry |        17         13         29        373 |       513 
           other |        88         28          7        379 |       607 
-----------------+--------------------------------------------+----------
           Total |    15,426     15,686      3,367    132,786 |   191,985 


       RECODE of |             RECODE of cas_mode
     strike_mode |     mbike        van      lorry      other |     Total
-----------------+--------------------------------------------+----------
            walk |       699         19         19         13 |     1,631 
           cycle |       102          9          2          3 |       487 
             bus |        61         51         16          6 |     1,345 
             car |    17,471      3,994        921        741 |   184,856 
           mbike |       132         11          2          4 |       758 
             van |       122        103         16         17 |     1,788 
           lorry |        32         25         19          5 |       513 
           other |        45         17          7         36 |       607 
-----------------+--------------------------------------------+----------
           Total |    18,664      4,229      1,002        825 |   191,985 



-------------------------------------------------------------------------------
-> cas_severity = Fatal

       RECODE of |             RECODE of cas_mode
     strike_mode |      walk      cycle        bus        car |     Total
-----------------+--------------------------------------------+----------
            walk |         0          0          0          1 |         5 
           cycle |         1          0          0          1 |         3 
             bus |        11          2          0          4 |        18 
             car |       359         62          5        304 |     1,038 
           mbike |         1          0          0          0 |         2 
             van |         4          1          0         10 |        17 
           lorry |         0          0          0          1 |         1 
           other |         1          1          0          1 |         3 
-----------------+--------------------------------------------+----------
           Total |       377         66          5        322 |     1,087 


       RECODE of |             RECODE of cas_mode
     strike_mode |     mbike        van      lorry      other |     Total
-----------------+--------------------------------------------+----------
            walk |         2          1          0          1 |         5 
           cycle |         1          0          0          0 |         3 
             bus |         1          0          0          0 |        18 
             car |       281          5          1         21 |     1,038 
           mbike |         1          0          0          0 |         2 
             van |         2          0          0          0 |        17 
           lorry |         0          0          0          0 |         1 
           other |         0          0          0          0 |         3 
-----------------+--------------------------------------------+----------
           Total |       288          6          1         22 |     1,087 


-------------------------------------------------------------------------------
-> cas_severity = Serious

       RECODE of |             RECODE of cas_mode
     strike_mode |      walk      cycle        bus        car |     Total
-----------------+--------------------------------------------+----------
            walk |         0         25          6         59 |       158 
           cycle |        41         33          2         25 |       112 
             bus |        88         22          0         42 |       192 
             car |     8,474      3,924        105      6,030 |    24,284 
           mbike |        23          8          0         15 |        80 
             van |        66         41          0         58 |       220 
           lorry |         9          3          0         21 |        47 
           other |        40          7          0         21 |        91 
-----------------+--------------------------------------------+----------
           Total |     8,741      4,063        113      6,271 |    25,184 


       RECODE of |             RECODE of cas_mode
     strike_mode |     mbike        van      lorry      other |     Total
-----------------+--------------------------------------------+----------
            walk |        63          1          1          3 |       158 
           cycle |        11          0          0          0 |       112 
             bus |        33          6          0          1 |       192 
             car |     5,369        157         22        203 |    24,284 
           mbike |        30          0          0          4 |        80 
             van |        48          5          0          2 |       220 
           lorry |         8          3          2          1 |        47 
           other |        17          1          0          5 |        91 
-----------------+--------------------------------------------+----------
           Total |     5,579        173         25        219 |    25,184 


-------------------------------------------------------------------------------
-> cas_severity = Slight

       RECODE of |             RECODE of cas_mode
     strike_mode |      walk      cycle        bus        car |     Total
-----------------+--------------------------------------------+----------
            walk |         0        186        182        803 |     1,629 
           cycle |       119        121         27        292 |       663 
             bus |       394        100         52        609 |     1,265 
             car |    35,535     25,059      2,988    123,905 |   210,043 
           mbike |       161         65          2        236 |       584 
             van |       256        166         38      1,048 |     1,730 
           lorry |        21         15          8        143 |       221 
           other |       190         59          5        307 |       655 
-----------------+--------------------------------------------+----------
           Total |    36,676     25,771      3,302    127,343 |   216,790 


       RECODE of |             RECODE of cas_mode
     strike_mode |     mbike        van      lorry      other |     Total
-----------------+--------------------------------------------+----------
            walk |       415         25          4         14 |     1,629 
           cycle |        86         10          5          3 |       663 
             bus |        53         31         13         13 |     1,265 
             car |    17,523      3,354        561      1,118 |   210,043 
           mbike |       104         10          1          5 |       584 
             van |       116         87          9         10 |     1,730 
           lorry |        14         10          6          4 |       221 
           other |        44         14          4         32 |       655 
-----------------+--------------------------------------------+----------
           Total |    18,355      3,541        603      1,199 |   216,790 



. 
end of do-file
